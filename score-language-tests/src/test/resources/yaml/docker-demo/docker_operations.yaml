namespace: docker.ops

operations:
  - pull_container:
        inputs:
          - imageName
          - host
          - port: "'22'"
          - username
          - password
          - privateKeyFile: "''"
          - command: "'docker pull ' + imageName"
          - arguments: "''"
          - characterSet : "'UTF-8'"
          - pty: "'false'"
          - timeout: "'30000000'"
          - closeSession: "'false'"
        action:
          java_action:
            className: com.hp.score.content.ssh.actions.SSHShellCommandAction
            methodName: runSshShellCommand
        outputs:
          - returnResult: returnResult
        results:
          - SUCCESS : returnCode == 0
          - FAILURE
  - create_container:
        inputs:
          - imageID
          - containerName
          - cmdParams
          - host
          - port: "'22'"
          - username
          - password
          - privateKeyFile: "''"
          - command: "'docker run --name ' + containerName + ' ' +cmdParams + ' -d ' + imageID"
          - characterSet: "'UTF-8'"
          - pty: "'false'"
          - timeout: "'90000'"
          - closeSession: "'false'"
        action:
          java_action:
            className: com.hp.score.content.ssh.actions.SSHShellCommandAction
            methodName: runSshShellCommand
        outputs:
          - dbContainerName: returnResult
        results:
          - SUCCESS : returnCode == 0
          - FAILURE

