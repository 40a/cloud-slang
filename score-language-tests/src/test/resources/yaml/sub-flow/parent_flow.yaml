namespace: user.flows

imports:
  ops: user.ops
  flows: user.flows

flow:
  name: parent_flow
  inputs:
    - input1
    - city:
        required: false
  workflow:
    Task1:
      do:
        ops.check_Weather:
          - city: city if city is not None else input1
      publish:
        - kuku: weather
      navigate:
        KUKU: Task2

    Task2:
      do:
        flows.child_flow:
          - input1: kuku
      publish:
        - val_output
  results:
    - SUCCESS
    - FAILURE